<div
  class="flex flex-col bg-[var(--color-brand4)] border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 overflow-hidden h-full"
>
  <!-- Library Cover -->
  <div class="relative w-full h-48 md:h-56 bg-[var(--color-brand6)]">
    <img
      [src]="library.libraryThumbnailCover ? baseUrl + library.libraryThumbnailCover : defaultLibraryCover"
      [alt]="library.name || 'Library cover'"
      class="w-full h-full object-cover"
    />
  </div>

  <!-- Info Section -->
  <div class="flex flex-col justify-between flex-1 p-4">
    <!-- Library Main Info -->
    <div class="space-y-2 flex-1">
      <h3
        class="font-bold text-[var(--color-brand1)] text-lg leading-tight truncate"
        [title]="library.name || 'Unnamed Library'"
      >
        <lucide-icon
          name="building"
          class="inline w-4 h-4 mr-1 text-[var(--color-brand2)]"
        ></lucide-icon>
        {{ library.name || 'Unnamed Library' }}
      </h3>

      <p class="text-sm text-gray-700 truncate" [title]="library.ownerName || 'Unknown'">
        <lucide-icon name="user" class="inline w-4 h-4 mr-1 text-[var(--color-brand3)]"></lucide-icon>
        <span class="font-medium">Owner:</span> {{ library.ownerName || 'Unknown' }}
      </p>

      <p class="text-sm text-gray-700 truncate" [title]="library.contactNumber || 'No contact provided'">
        <lucide-icon name="phone" class="inline w-4 h-4 mr-1 text-[var(--color-brand3)]"></lucide-icon>
        <span class="font-medium">Contact:</span> {{ library.contactNumber || 'No contact provided' }}
      </p>

      <p class="text-sm text-gray-700 truncate" [title]="library.address || 'No address provided'">
        <lucide-icon name="map-pin" class="inline w-4 h-4 mr-1 text-[var(--color-brand3)]"></lucide-icon>
        <span class="font-medium">Address:</span> {{ library.address || 'No address provided' }}
      </p>

      <!-- Description -->
      <blockquote
        class="text-sm text-gray-600 italic line-clamp-2 bg-[var(--color-brand5)]/10 border-l-4 border-[var(--color-brand2)] pl-3 py-1 mt-2 rounded-sm"
        [title]="library.description || 'No description provided'"
      >
        “{{ library.description || 'No description provided' }}”
      </blockquote>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-2 mt-4 flex-shrink-0">
      <button
        (click)="onView(library)"
        class="flex items-center gap-1 px-4 py-2 bg-[var(--color-brand2)] text-white rounded-md hover:bg-[var(--color-brand3)] transition-colors"
      >
        <lucide-icon name="eye" class="w-4 h-4"></lucide-icon>
        View
      </button>

      @if (isLoggedIn && role == Role.Librarian && library.id == libraryId) {
      <button
        (click)="onEdit(library)"
        class="flex items-center gap-1 px-4 py-2 bg-[var(--color-brand1)] text-[var(--color-brand4)] rounded-md hover:bg-[var(--color-brand2)] hover:text-white transition-colors"
      >
        <lucide-icon name="pencil" class="w-4 h-4"></lucide-icon>
        Edit
      </button>
      }
    </div>
  </div>
</div>
